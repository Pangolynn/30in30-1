<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <title>Document</title>
   <link rel="stylesheet" href="style.css">
</head>

<body>
   <!-- The following is a common layout you would see in an email client.
   When a user clicks a checkbox, holds Shift, and then clicks another checkbox a
   few rows down, all the checkboxes inbetween those two checkboxes should be checked.
   -->
   <div class="inbox">
      <div class="item">
         <input type="checkbox">
         <p>This is an inbox layout.</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Check one item</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Hold down your Shift key</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Check a lower item</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Everything inbetween should also be set to checked</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Try do it with out any libraries</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Just regular JavaScript</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Good Luck!</p>
      </div>
      <div class="item">
         <input type="checkbox">
         <p>Don't forget to tweet your result!</p>
      </div>
   </div>
   <script>


      const checkboxes = document.querySelectorAll('.inbox input[type="checkbox"]');

      let lastChecked;

      function handleCheck(e) {
         // check if they had the shift key down
         // and check they are checking(not unchecking)
         let inBetween = false;
         if(e.shiftKey && this.checked) {
            // loop over every checkbox
            checkboxes.forEach(checkbox => {
               if(checkbox === this || checkbox === lastChecked) {
                  inBetween = !inBetween;
                  console.log("in between");
               }

               if(inBetween) {
                  checkbox.checked = true;
               }
            });
         }


         lastChecked = this;
      }

      // click event fires even if you use your keyboard
      checkboxes.forEach(checkbox => checkbox.addEventListener('click', handleCheck));

   </script>

</body>

</html>
